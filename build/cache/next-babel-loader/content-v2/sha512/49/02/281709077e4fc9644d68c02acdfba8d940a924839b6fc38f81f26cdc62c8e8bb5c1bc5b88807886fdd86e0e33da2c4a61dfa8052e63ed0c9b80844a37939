{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\n// import { useRouter } from 'next/router'\nimport Post from \"../../components/Post\";\nimport Layout from \"../../components/Layouts\"; // import PageHeader from \"components/PageHeader\";\n\nimport { getAllPosts, getPostsByCategory } from \"../../lib/index\";\nexport async function getStaticPaths() {\n  const posts = await getAllPosts();\n  const paths = posts.map(({\n    fields\n  }) => ({\n    params: {\n      slug: fields.category.toString()\n    }\n  }));\n  return {\n    paths,\n    // fallback: true,\n    fallback: false\n  }; // return { paths: [], fallback: true };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const {\n    slug\n  } = params;\n  const posts = await getAllPosts();\n  const post2 = await getPostsByCategory(slug); // const post2 = posts.filter(post => post.fields.category.fields.some(cate => cate.name === 'wcommerce'));\n  // const category = [...new Map(posts.map(item => [item.fields.category.fields.name, item])).values()]\n\n  const category = [...new Map(posts.map(item => [item.fields.category, item])).values()];\n  return {\n    revalidate: 1,\n    props: {\n      posts,\n      category,\n      post2\n    }\n  };\n}\nexport default function Categories({\n  posts,\n  category,\n  post2\n}) {\n  console.log('category', posts, post2);\n  return /*#__PURE__*/_jsx(Layout, {\n    title: \"Blog with Next.js and Contentful\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"jsx-1345616107\" + \" \" + \"container-lg py-4\",\n      children: [/*#__PURE__*/_jsxs(\"ul\", {\n        className: \"jsx-1345616107\" + \" \" + \"nav justify-content-center\",\n        children: [/*#__PURE__*/_jsx(\"li\", {\n          className: \"jsx-1345616107\" + \" \" + \"nav-item\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: \"/\",\n            className: \"jsx-1345616107\" + \" \" + \"nav-link\",\n            children: \"All\"\n          })\n        }), category === null || category === void 0 ? void 0 : category.map(({\n          fields\n        }, index) => /*#__PURE__*/_jsx(\"li\", {\n          className: \"jsx-1345616107\" + \" \" + \"nav-item\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: fields.category,\n            className: \"jsx-1345616107\" + \" \" + \"nav-link active\",\n            children: fields.category\n          })\n        }, index) // <li className=\"nav-item\">\n        //   <a className=\"nav-link disabled\" href=\"#\">Disabled</a>\n        // </li>\n        )]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"jsx-1345616107\" + \" \" + \"card-deck flex-wrap\",\n        children: post2 === null || post2 === void 0 ? void 0 : post2.map(({\n          fields\n        }, index) => {\n          return /*#__PURE__*/_jsx(Post, {\n            title: fields.title,\n            author: fields.author,\n            date: fields.publishDate,\n            description: fields.description,\n            slug: fields.slug,\n            coverImage: fields.heroImage.fields\n          }, index);\n        })\n      }), /*#__PURE__*/_jsx(_JSXStyle, {\n        id: \"1345616107\",\n        children: [\".card-deck.jsx-1345616107 .card.jsx-1345616107{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}\"]\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}