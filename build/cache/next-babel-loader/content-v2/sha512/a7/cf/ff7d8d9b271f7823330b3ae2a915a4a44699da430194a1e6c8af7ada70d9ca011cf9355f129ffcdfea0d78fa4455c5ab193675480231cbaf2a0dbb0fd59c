{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRouter } from \"next/router\";\nimport ErrorPage from \"next/error\";\nimport Layout from \"../../components/Layouts\";\nimport BlogHeader from \"../../components/BlogHeader\";\nimport BlogBody from \"../../components/BlogBody\";\nimport MorePost from \"../../components/MorePost\";\nimport ShareButton from \"../../components/ShareButton\";\nimport { getPostBySlug, getMorePosts, getAllPostsWithSlug } from \"../../lib/index\"; // import { Container, Grid, Typography } from \"@material-ui/core\";\n\nexport async function getStaticPaths() {\n  var _allPosts$map;\n\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: (_allPosts$map = allPosts === null || allPosts === void 0 ? void 0 : allPosts.map(({\n      slug\n    }) => `/blog/${slug}`)) !== null && _allPosts$map !== void 0 ? _allPosts$map : [],\n    // fallback: true,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  console.log('params', params);\n  const post = await getPostBySlug(params.slug);\n  const morePosts = await getMorePosts(params.slug);\n  return {\n    props: {\n      post: post ? post : null,\n      morePosts: morePosts ? morePosts : null\n    },\n    revalidate: 1\n  };\n}\n\nconst Blog = ({\n  post,\n  morePosts\n}) => {\n  const router = useRouter();\n\n  if (!router.isFallback && !post) {\n    return /*#__PURE__*/_jsx(ErrorPage, {\n      statusCode: 404\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(Layout, {\n    title: post === null || post === void 0 ? void 0 : post.fields.title // description={post?.fields.subTitle}\n    ,\n    ogImage: post === null || post === void 0 ? void 0 : post.fields.heroImage.fields.file.url,\n    url: `https://blog-with-nextjs-and-contentful.vercel.app/blog/${post === null || post === void 0 ? void 0 : post.fields.slug}`,\n    children: [/*#__PURE__*/_jsx(BlogHeader, {\n      title: post === null || post === void 0 ? void 0 : post.fields.title // subtitle={post?.fields.subTitle}\n      // authorName={post?.fields.author.fields.name}\n      // authorImage={post?.fields.author.fields.image.fields.file.url}\n      ,\n      slug: post === null || post === void 0 ? void 0 : post.fields.slug,\n      date: post === null || post === void 0 ? void 0 : post.fields.date,\n      coverImage: post === null || post === void 0 ? void 0 : post.fields.heroImage.fields.file.url\n    }), /*#__PURE__*/_jsx(BlogBody, {\n      content: post === null || post === void 0 ? void 0 : post.fields.body\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"container-lg mt-4\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"social\",\n        children: [\"- Share -\", /*#__PURE__*/_jsx(ShareButton, {\n          url: `https://blog-with-nextjs-and-contentful.vercel.app/blog/${post === null || post === void 0 ? void 0 : post.fields.slug}`\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"recent-entries\",\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: \"- Recent Entries -\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: morePosts === null || morePosts === void 0 ? void 0 : morePosts.map(({\n            fields\n          }) => /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-4\",\n            children: /*#__PURE__*/_jsx(MorePost, {\n              title: fields.title // subtitle={fields.subTitle}\n              // authorName={fields.author.fields.name}\n              // authorImage={fields.author.fields.image.fields.file.url}\n              ,\n              slug: fields.slug,\n              date: fields.date,\n              coverImage: fields.heroImage.fields.file.url\n            })\n          }, fields.slug))\n        })]\n      })]\n    })]\n  });\n};\n\nexport default Blog;","map":null,"metadata":{},"sourceType":"module"}